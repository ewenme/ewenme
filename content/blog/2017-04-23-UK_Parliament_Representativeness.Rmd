---
date: "2017-04-23"
title: "The Representativeness of UK Parliament"
author: "Ewen"
showonlyimage: false
draft: false
image: "blog/img/gov_represent.jpg"
weight: 0
type: "post"
description: "Leveraging everypolitician.org to learn more about the composition of UK Parliament, in the pursuit of transparency and voter empowerment ahead of an upcoming general election."

---

As a general election looms, a familiar UK media maelstrom has begun. The key difference here is that the public has been taken by surprise, somewhat - Theresa May's call for a snap election (we weren't actually due one until 2020) has left folk with little under two months to decide where their vote will go. 

For some, this may be the first election they are able to participate in. For many, the traditional delivery of party politics might not have kept them engaged all that well since the last election. Unfortunately, there isn't too much time to get all cases like these as up to speed as we would like this time round. The good news is there are ambitious projects like [EveryPolitician](http://everypolitician.org/uk/) looking to make governments around the world more transparent - perhaps we can leverage the data inside to empower voters, in some small way, ahead of 8th June.[^fullcode]

```{r setup, include=FALSE}

knitr::opts_chunk$set(cache=TRUE, echo = TRUE, tidy = TRUE, warning = FALSE, message = FALSE, out.width = '100%', dpi = 180)

require(jsonlite)
require(tidyverse)
require(forcats)
require(hrbrthemes)
require(ggalt)
require(waffle)
require(extrafont)

loadfonts()
```

<br>

## Inside EveryPolicitian

EveryPolitician's mission is simple: *"collect and share data about every politician in every country in the world, in a consistent, open format that anyone can use."* They don't provide an API to query, but we can download the whole lot (for the UK) in JSON format to work on:

```{r load}
data <- fromJSON("https://cdn.rawgit.com/everypolitician/everypolitician-data/8382ff6bd31785d630950716ccb53eccfbe8485f/data/UK/Commons/ep-popolo-v1.0.json")

members <- as.data.frame(data$persons) %>%
  left_join(as.data.frame(data$memberships), by = c("id"="person_id")) %>%
  mutate(legislative_period_id=as_factor(legislative_period_id),
         birth_date=as.Date(birth_date),
         on_behalf_of_id=as_factor(on_behalf_of_id),
         on_behalf_of_id_recoded =fct_recode(on_behalf_of_id, "Conservative"="conservative",
                                             "DUP"="dup", "Labour"="labour", 
                                             "SNP"="scottish-national-party",
                                             "Lib Dem"="liberal-democrat", "UUP"="uup",
                                             "Plaid Cymru"="plaid-cymru",
                                             "Independent"="independent", 
                                             "Labour"="labourco-operative",
                                             "Sinn Fein"="sinn-fein", 
                                             "Deputy Speaker"="deputy-speaker", 
                                             "Speaker"="speaker", "Green"="green", "UKIP"="ukip",
                                             "SDLP"="social-democratic-and-labour-party",
                                             "Independent"="independent-conservative",
                                             "Independent"="independent-ulster-unionist",
                                             "Respect"="respect", "UKUP"="ukup",
                                             "Independent"="independent-labour",
                                             "Alliance"="alliance"),
         term_start=as.Date(fct_recode(legislative_period_id, "2015-05-08"="term/56",
                                       "2010-05-06"="term/55", "2005-05-05"="term/54",
                                       "2001-06-07"="term/53", "1997-05-01"="term/52")),
         legislative_period_id=fct_recode(legislative_period_id, "Term 56\n(2015-)"="term/56",
                                          "Term 55\n(2010-2015)"="term/55", 
                                          "Term 54\n(2005-2010)"="term/54",
                                          "Term 53\n(2001-2005)"="term/53", 
                                          "Term 52\n(1997-2001)"="term/52"),
         age_at_term_start=as.numeric(floor(difftime(term_start, birth_date, units="days")/365))) %>%
  select(name, birth_date, gender, on_behalf_of_id_recoded, role, legislative_period_id,
         term_start, age_at_term_start, id)

glimpse(members)

```

We now have biographic and demographic data for all members of Parliament across the last five legislative periods, or terms. With this information, it may be possible to start demonstrating how representativeness manifests itself in Parliament.

<br>

## Gender Balance

Something which demands immediate attention (not just in this domain) is understanding member's proportional representation by gender. A big problem for many voters is finding members to identify with, given the historic barriers to women entering a male-dominated parliamentary system. How does female representation look over time?

```{r female_rep, echo=FALSE}
# female representation over time
members %>%
  group_by(legislative_period_id, gender) %>%
  summarise(count=n()) %>%
  mutate(prop=count/sum(count)) %>%
  filter(gender=="female") %>%
  ggplot(aes(x=legislative_period_id, y=prop, group=1)) +
  geom_line(size=1.1) +
  geom_point(size=2) +
  theme_ipsum(base_size = 14, axis_title_size = 14, caption_size = 12,
              plot_title_size = 18, subtitle_size = 14, grid="xY") +
  labs(title="Female representation in UK Parliament",
       x="Term",
       y="% of female seats",
       subtitle="Around 30% of seats in the latest term are held by women",
       caption="Data from everypolitician.org") +
  scale_y_percent(limits = c(0, 0.6)) +
  geom_hline(yintercept = 0.5, colour="firebrick", linetype="dashed")
```

There has been sustained improvements in gender balance since the mid-00s, however it's still some way short of equality.

Of course, the 30% representation we see in the current term is an aggregate of different political parties. What does this percentage look like by party?

*N.B. The below graphic only includes the three parties with the largest count of members in the latest Parliament. Each of the other parties had fewer than ten representatives.*

```{r party_genders, echo=FALSE}
# gender balance by party
gender_split <- members %>%
  filter(legislative_period_id == "Term 56\n(2015-)" & on_behalf_of_id_recoded %in% c("Conservative",
                                                                             "Labour", "SNP")) %>%
  group_by(on_behalf_of_id_recoded, gender) %>%
  summarise(count=n()) %>%
  mutate(prop=round(count/sum(count) * 100))

gender_split <- data.frame(names = gender_split$gender, vals = gender_split$prop)

iron(
  waffle(c(Female=gender_split[1,2], Male=gender_split[2,2]), rows=5,
         title="Party Gender Split in the Latest UK Parliament", xlab = "Labour") +
    # theme_ipsum(base_size = 14, axis_title_size = 14, caption_size = 12,
    #           plot_title_size = 18, subtitle_size = 14, axis = FALSE, ticks = FALSE) +
    theme(axis.text.y=element_blank(), axis.text.x=element_blank(), legend.title=element_blank(),
          text=element_text(family="Arial Narrow")) +
    scale_fill_ipsum(),
  waffle(c(Female=gender_split[5,2], Male=gender_split[6,2]), rows=5,
         xlab ="SNP", title = NULL) +
    # theme_ipsum(base_size = 14, axis_title_size = 14, caption_size = 12,
    #           plot_title_size = 18, subtitle_size = 14, axis = FALSE, ticks = FALSE) +
    theme(axis.text.y=element_blank(), axis.text.x=element_blank(), legend.title=element_blank(),
          text=element_text(family="Arial Narrow")) +
    scale_fill_ipsum(),
  waffle(c(Female=gender_split[3,2], Male=gender_split[4,2]), rows=5,
         xlab="Conservatives", title = NULL) +
    # theme_ipsum(base_size = 14, axis_title_size = 14, caption_size = 12,
    #           plot_title_size = 18, subtitle_size = 14, axis = FALSE, ticks = FALSE) +
    theme(axis.text.y=element_blank(), axis.text.x=element_blank(), legend.title=element_blank(),
          text=element_text(family="Arial Narrow")) +
    scale_fill_ipsum())
  
```

Labour, currently the second largest party by no. of MPs (238), has double the proportionate amount of female MPs in comparison with the biggest, the Conservatives (333). 

It must be remembered that these figures represent *elected* officials, and so possible gender biases may stem from voters as well as the parties themselves. An in-depth analysis of historical party candidate gender proportions and subsequent voting patterns could start to unpick this. For the purposes of this analysis, we are interested in sharing information to help the uninformed understand what parties and parliament look like, and this is a good start - perhaps identifying trends over time in the biggest parties would be a good next step.

```{r female_trend, echo=FALSE}
# female representation over time by party
members %>%
  filter(on_behalf_of_id_recoded %in% c("Conservative", "Labour")) %>%
  group_by(legislative_period_id, on_behalf_of_id_recoded, gender) %>%
  summarise(count=n()) %>%
  mutate(prop=count/sum(count)) %>%
  filter(gender=="female") %>%
  ggplot(aes(x=legislative_period_id, y=prop, group=on_behalf_of_id_recoded, 
             colour=on_behalf_of_id_recoded)) +
  geom_line(size=1.1) +
  geom_point(size=2) +
  theme_ipsum(base_size = 14, axis_title_size = 14, caption_size = 12,
              plot_title_size = 18, subtitle_size = 14, grid="xY") +
  scale_color_manual(values = c("#d50000", "#0087dc")) +
  labs(title="Female MP representation in Parliament",
       x="Term",
       y="% of seats",
       subtitle="Both Labour and Conservative parties demonstrate their highest proportional\nfemale representation in the latest term",
       caption="Data from everypolitician.org") +
  scale_y_percent(limits = c(0, 0.6)) +
  geom_hline(yintercept = 0.5, colour="firebrick", linetype="dashed") +
  theme(legend.position="top", legend.title=element_blank())
```

It appears that Labour was first to demonstrate growth in female representation during the mid-00s, with the Conservatives following this example in Term 55. What is most apparent is that Labour now appears close to an equal gender split, while the Conservative party is still lower than Labour has ever been over the considered period.

<br>

## Age

Another important characteristic when considering the representativeness of government is member's ages. Amongst parties, demonstrating the distribution of ages can illuminate whether a party reflects the public.[^Missing]

*N.B. The below graphic only includes parties with 30 or more members across the last five Parliamentary terms.*

```{r echo=FALSE}
## violin plot of age by party
members %>%
  group_by(on_behalf_of_id_recoded) %>%
  filter(n() >= 30) %>%
  ggplot(aes(x=on_behalf_of_id_recoded, y=age_at_term_start)) +
  geom_violin() +
  theme_ipsum(base_size = 14, axis_title_size = 14, caption_size = 12,
              plot_title_size = 18, subtitle_size = 14, grid = "Y") +
  labs(title="Party MP Ages across the last five terms",
       x="Party",
       y="Age",
       subtitle="Independent candidates have the highest median age and Labour MPs go\non the longest",
       caption="Data from everypolitician.org")
```

Looking across the previous five Parliamentary terms in the above plot, you can see that the Labour 'bulge' is higher than the Conservatives, hinting at an older pool of members. Has this always been the case?

```{r echo=FALSE}
## median age by term
members %>%
  filter(on_behalf_of_id_recoded %in% c("Conservative", "Labour")) %>%
  group_by(legislative_period_id, on_behalf_of_id_recoded) %>%
  summarise(age=median(age_at_term_start, na.rm=TRUE), count=n()) %>%
  ggplot(aes(x=legislative_period_id, y=age, group=on_behalf_of_id_recoded, 
             colour=on_behalf_of_id_recoded)) +
  geom_line(size=1.1) +
  geom_point(size=2) +
  theme_ipsum(base_size = 16, axis_title_size = 16, caption_size = 12,
              plot_title_size = 20, subtitle_size = 16, grid = "Y") +
  scale_color_manual(values = c("#d50000", "#0087dc")) +
  ylim(c(40, 55)) +
  labs(title="Party MP Ages",
       x="Term",
       y="Median age",
       subtitle="The median Labour member age is 5 years older than for Conservatives\nacross each of the last three Parliamentary terms",
       caption="Data from everypolitician.org") +
  theme(legend.position="top", legend.title=element_blank())
```

This divergence in MP ages across the Labour and Conservative parties came into being after commencement of the 54th term, which was the last Labour victory. The gap has been maintained ever since.

<br>

## Turnover

We've explored how gender and age manifest in Parliament across time and parties, and perhaps now would be a good time to examine these factors in relation to how often MPs actually keep their seats.[^Speakers]

```{r echo=FALSE}
members %>%
  filter(!on_behalf_of_id_recoded %in% c("Speaker", "Deputy Speaker")) %>%
  group_by(id, legislative_period_id) %>%
  summarise(terms=n()) %>%
  group_by(id) %>%
  summarise(terms=n()) %>%
  group_by(terms) %>%
  summarise(count=n()) %>%
  mutate(prop=count/sum(count)) %>%
  ggplot(aes(x=terms, y=prop)) +
  geom_lollipop(stat = "identity", size=1.1) +
  theme_ipsum(base_size = 14, axis_title_size = 14, caption_size = 12,
              plot_title_size = 18, subtitle_size = 14, grid = "Y") +
  scale_y_percent(limits = c(0, 0.3), breaks = seq(0, 0.3, 0.1)) +
  labs(title="How many terms did elected MPs get, across the last five\nterms?",
       x="No. of terms",
       y="% of MPs",
       subtitle="MPs got re-elected a single time marginally more often than losing their seat",
       caption="Data from everypolitician.org")
```

The above chart gives a sense of the 'turnover' in Parliament between terms. We see a decline in the likelihood of an MP keeping their seat as their time in situ increases (beyond the first re-election). How does this stand up by gender?

```{r echo=FALSE}
members %>%
  filter(on_behalf_of_id_recoded %in% c("Conservative", "Labour")) %>%
  group_by(id, gender, legislative_period_id, on_behalf_of_id_recoded) %>%
  summarise(terms=n()) %>%
  group_by(id, gender, on_behalf_of_id_recoded) %>%
  summarise(terms=n()) %>%
  group_by(terms, gender, on_behalf_of_id_recoded) %>%
  summarise(count=n()) %>%
  group_by(gender, on_behalf_of_id_recoded) %>%
  mutate(prop=count/sum(count)) %>%
  ggplot(aes(x=terms, y=prop, colour=gender)) +
  geom_line(size=1.1) +
  geom_point(size=2) +
  theme_ipsum(base_size = 14, axis_title_size = 14, caption_size = 12,
              plot_title_size = 18, subtitle_size = 14, grid = "Y") +
  scale_color_ipsum() +
  scale_y_percent(limits = c(0, 0.5), breaks = seq(0, 0.5, 0.1)) +
  labs(title="How many terms did elected MPs get, across the last five\nterms?",
       x="No. of terms",
       y="% of MPs",
       subtitle="Women are historically less likely than men to be re-elected two or more times,\nacross both the Labour and Conservative parties",
       caption="Data from everypolitician.org") +
  facet_wrap( ~ on_behalf_of_id_recoded) +
  theme(legend.position="top", legend.title=element_blank())
```

This is revealing as to why the Conservative party has seen limited growth in female representation - their female MPs are most likely to not be re-elected at all.

<br>

## An International Peek

It might be useful to provide some international context to proceedings. By returning to the *EveryPolitician* data store, we can extract similar data for other countries and see how they stack up on some of the hot topics discussed above.

*N.B. At the time of writing, there aren't an abundance of nations with politician data beyond the most recent government term. The below selection represents those countries with data enough to look at trends over time.*

```{r echo=FALSE}
# US data
US_data <- fromJSON("https://cdn.rawgit.com/everypolitician/everypolitician-data/4e4b403d9885424a86dc8ca2b796e68e18cfd1da/data/United_States_of_America/House/ep-popolo-v1.0.json")

US_members <- as.data.frame(US_data$persons) %>%
  left_join(as.data.frame(US_data$memberships), by = c("id"="person_id")) %>%
  mutate(legislative_period_id=as_factor(legislative_period_id), country="United States") %>%
  select(name, gender, role, legislative_period_id, id, country)

rm(US_data)

# Sweden data
Sweden_data <- fromJSON("https://cdn.rawgit.com/everypolitician/everypolitician-data/61e9bd4449f239432ac1984f12a15ca7b1413512/data/Sweden/Riksdag/ep-popolo-v1.0.json")

Sweden_members <- as.data.frame(Sweden_data$persons) %>%
  left_join(as.data.frame(Sweden_data$memberships), by = c("id"="person_id")) %>%
  mutate(legislative_period_id=as_factor(legislative_period_id), country="Sweden") %>%
  select(name, gender, role, legislative_period_id, id, country)

rm(Sweden_data)

# German data
German_data <- fromJSON("https://cdn.rawgit.com/everypolitician/everypolitician-data/4e79208976ce3691783f1f0af226c70a98100c83/data/Germany/Bundestag/ep-popolo-v1.0.json")

German_members <- as.data.frame(German_data$persons) %>%
  left_join(as.data.frame(German_data$memberships), by = c("id"="person_id")) %>%
  mutate(legislative_period_id=as_factor(legislative_period_id), country="Germany") %>%
  select(name, gender, role, legislative_period_id, id, country)

rm(German_data)

# Australia data
Australia_data <- fromJSON("https://cdn.rawgit.com/everypolitician/everypolitician-data/9f01d34cac7284c435f349679de34bd6e0fbbe76/data/Australia/Representatives/ep-popolo-v1.0.json")

Australia_members <- as.data.frame(Australia_data$persons) %>%
  left_join(as.data.frame(Australia_data$memberships), by = c("id"="person_id")) %>%
  mutate(legislative_period_id=as_factor(legislative_period_id), country="Australia") %>%
  select(name, gender, role, legislative_period_id, id, country)

rm(Australia_data)

# Switzerland data
Switzerland_data <- fromJSON("https://cdn.rawgit.com/everypolitician/everypolitician-data/531266453eeffd32ff95a8f35411a886eacd6743/data/Switzerland/National_Council/ep-popolo-v1.0.json")

Switzerland_members <- as.data.frame(Switzerland_data$persons) %>%
  left_join(as.data.frame(Switzerland_data$memberships), by = c("id"="person_id")) %>%
  mutate(legislative_period_id=as_factor(legislative_period_id), country="Switzerland") %>%
  select(name, gender, role, legislative_period_id, id, country)

rm(Switzerland_data)

int_members <- members %>%
  mutate(country="UK") %>%
  select(name, gender, role, legislative_period_id, id, country) %>%
  bind_rows(Australia_members, German_members, Sweden_members, Switzerland_members, US_members)

# female representation over time, internationally
int_members %>%
  group_by(country, legislative_period_id, gender) %>%
  summarise(count=n()) %>%
  mutate(prop=count/sum(count)) %>%
  filter(gender=="female") %>%
  ggplot(aes(x=factor(legislative_period_id), y=prop, group=1)) +
  geom_line(size=1) +
  geom_point(size=2) +
  theme_ipsum(base_size = 14, axis_title_size = 14, caption_size = 12,
              plot_title_size = 18, subtitle_size = 14, grid="xY") +
  labs(title="Female representation in elected politicians",
       x=NULL,
       y="% of female seats",
       subtitle="Elected government terms, in chronological order (most recent on the right)",
       caption="Data from everypolitician.org") +
  scale_y_percent(limits = c(0, 0.6)) +
  geom_hline(yintercept = 0.5, colour="firebrick", linetype="dashed") +
  facet_wrap( ~ country, scales = "free_x") +
  theme(axis.text.x=element_blank())
```

Now, the range of data still varies quite a lot here (for the U.S. we have data back to 1983, compared with 2001 for the UK), so the above trends should be treated as indicative timelines of a countries record in this area. Still, we can certainly compare recent performance and see some obvious worries - both Germany and the U.S. have experienced big drop-offs in female representation in their elected governments, and have shown little signs of recovery since. Big-ups must be given to Sweden, with mid-40% female representation across their previous six terms.

<br>

## Some last words

I hope this exercise, shedding light on the current and historical level of representativeness within UK Parliament (and beyond), can achieve a couple of things:

- Help first-time or unsure voters who care about representativeness and diversity understand more about the composition of parties, and the progress these parties are making to combat issues
- Demonstrate the utility and importance of resources like EveryPolitician in making governments more transparent

While the *EveryPolitician project* is still in early days and is first trying to get basic information for *all* countries (if you can help with [these missing ones](http://everypolitician.org/countries.html), please do), a vital next step would be to collect data on ethnicity to expand this sort of 'demographic audit' and enable more measures of diversity in governments. Also, a fuller international bench-marking exercise beckons for sure! That's all from me for now...

<br>
<br>

[^fullcode]: To keep the post concise I don't show all of the code, especially code that generates figures. But you can find the full code [here](https://github.com/rbind/ewenme/blob/master/content/blog/2017-04-23-UK_Parliament_Representativeness.Rmd).
[^Missing]: Two MPs with missing ages were excluded from the parts of the analysis studying age, at the time of writing: Sarah Olney (Liberal Democrats) and Caroline Johnson (Conservative).
[^Speakers]: I decided to exclude Speakers and Deputy Speakers from this part of the analysis. These are individuals performing roles in Parliament that are unaffiliated with any party, and are not publicly elected positions.
